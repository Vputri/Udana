{"ast":null,"code":"var _jsxFileName = \"/home/vika/Documents/vhiweb/vhiweb/src/containers/Login/index.js\";\nimport React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../PublicHead\";\nimport DefaultLayout from \"../../layouts/defaultLayout\";\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        submitted: true\n      });\n      const {\n        email,\n        password\n      } = this.state; // stop here if form is invalid\n\n      if (!(email && password)) {\n        return;\n      } // call saga reducer\n\n\n      this.props.attempt(email, password);\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      submitted: false\n    };\n\n    if (localStorage.getItem(\"authToken\")) {\n      this.props.history.push('/');\n    }\n  }\n\n  render() {\n    const {\n      loading\n    } = this.props;\n    const {\n      email,\n      password,\n      submitted\n    } = this.state;\n    const title = \"Login\";\n    return /*#__PURE__*/_jsxDEV(DefaultLayout, {\n      title: title,\n      children: [/*#__PURE__*/_jsxDEV(PublicHead, {\n        title: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-box\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          name: \"form\",\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              className: 'form-input' + (submitted && !email ? ' error' : ''),\n              value: email,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this), submitted && !email && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-block  email\",\n              children: \"Email is required.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              className: 'form-input' + (submitted && !password ? ' error' : ''),\n              value: password,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), submitted && !password && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-block password\",\n              children: \"Password is required.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"form-btn\",\n              disabled: loading,\n              children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-spinner  fa-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 32\n                }, this), \" loading ...\"]\n              }, void 0, true) : \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(NavLink, {\n              exact: true,\n              to: \"/signup\",\n              children: \" Sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 44\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  loading: state.login.loading\n});\n\nconst mapDispatchToProps = dispatch => {\n  const {\n    attempt\n  } = actions;\n  return bindActionCreators({\n    attempt\n  }, dispatch);\n};\n\nLogin.propTypes = {\n  loading: PropTypes.bool,\n  attempt: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  })\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/vika/Documents/vhiweb/vhiweb/src/containers/Login/index.js"],"names":["React","Component","bindActionCreators","actions","connect","PublicHead","DefaultLayout","NavLink","PropTypes","Login","constructor","props","handleChange","e","name","value","target","setState","handleSubmit","preventDefault","submitted","email","password","state","attempt","localStorage","getItem","history","push","render","loading","title","mapStateToProps","login","mapDispatchToProps","dispatch","propTypes","bool","func","shape","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../PublicHead\";\nimport DefaultLayout from \"../../layouts/defaultLayout\";\nimport {NavLink} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      submitted: false,\n    };\n    if(localStorage.getItem(\"authToken\")){\n          this.props.history.push('/')\n    }\n  }\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({ submitted: true });\n    const { email, password } = this.state;\n    // stop here if form is invalid\n    if (!(email && password)) {\n      return;\n    }\n    // call saga reducer\n    this.props.attempt(email,password)\n  };\n  render() {\n    const { loading } = this.props;\n    const { email, password, submitted  } = this.state;\n    const title = \"Login\";\n    return (\n      <DefaultLayout title={title}>\n        <PublicHead title={title} />\n        <div className=\"form-box\">\n          <form name=\"form\" onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                className={'form-input' + (submitted && !email ? ' error' : '')}\n                value={email}\n                onChange={this.handleChange}\n              />\n              {submitted && !email && (\n                <div className=\"error-block  email\">Email is required.</div>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                className={'form-input' + (submitted && !password ? ' error' : '')}\n                value={password}\n                onChange={this.handleChange}\n              />\n              {submitted && !password && (\n                <div className=\"error-block password\">Password is required.</div>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <button className=\"form-btn\" disabled={loading}>\n                  {loading ? <><i className=\"fas fa-spinner  fa-spin\"/> loading ...</> : \"Login\"}\n              </button>\n            </div>\n              <span>Don't have an account? <NavLink exact to='/signup'> Sign up</NavLink> </span>\n          </form>\n        </div>\n      </DefaultLayout>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.login.loading\n});\nconst mapDispatchToProps = dispatch => {\n  const { attempt  } = actions;\n  return bindActionCreators({ attempt }, dispatch);\n};\nLogin.propTypes = {\n    loading : PropTypes.bool,\n    attempt: PropTypes.func,\n    history: PropTypes.shape({\n        push: PropTypes.func.isRequired\n    })\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Login);"]},"metadata":{},"sourceType":"module"}